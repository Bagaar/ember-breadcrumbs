{"version":3,"file":"breadcrumbs.js","sources":["../../src/services/breadcrumbs.ts"],"sourcesContent":["import { assert } from '@ember/debug';\nimport Service from '@ember/service';\nimport { tracked } from '@glimmer/tracking';\n\nexport interface Container {\n  readonly element: HTMLUListElement;\n  readonly itemClass?: string;\n  readonly linkClass?: string;\n}\n\nexport default class BreadcrumbsService extends Service {\n  @tracked containers: Container[] = [];\n\n  #containers: Container[] = [];\n\n  registerContainer(container: Container): void {\n    assert(\n      'A breadcrumb container with the same DOM element has already been registered before.',\n      !this.#isContainerRegistered(container),\n    );\n\n    this.#containers = [...this.#containers, container];\n\n    this.containers = this.#containers;\n  }\n\n  unregisterContainer(container: Container): void {\n    assert(\n      'No breadcrumb container was found with this DOM element.',\n      this.#isContainerRegistered(container),\n    );\n\n    this.#containers = this.#containers.filter((registeredContainer) => {\n      return container.element !== registeredContainer.element;\n    });\n\n    this.containers = this.#containers;\n  }\n\n  #isContainerRegistered(container: Container): boolean {\n    return this.#containers.some((registeredContainer) => {\n      return container.element === registeredContainer.element;\n    });\n  }\n}\n\ndeclare module '@ember/service' {\n  interface Registry {\n    breadcrumbs: BreadcrumbsService;\n  }\n}\n"],"names":["BreadcrumbsService","Service","g","prototype","tracked","i","void 0","registerContainer","container","assert","containers","unregisterContainer","filter","registeredContainer","element","#isContainerRegistered","some"],"mappings":";;;;;AAUe,MAAMA,kBAAkB,SAASC,OAAO,CAAC;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,YAAA,EAAA,CACrDC,OAAO,CAAA,EAAA,YAAA;AAAA,MAAA,OAA2B,EAAE;AAAA,KAAA,CAAA;AAAA;AAAA,EAAA,YAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,YAAA,CAAA,EAAAC,MAAA;EAErC,WAAW,GAAgB,EAAE;EAE7BC,iBAAiBA,CAACC,SAAoB,EAAQ;IAC5CC,MAAM,CACJ,sFAAsF,EACtF,CAAC,IAAI,CAAC,sBAAsB,CAACD,SAAS,CACxC,CAAC;AAED,IAAA,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,EAAEA,SAAS,CAAC;AAEnD,IAAA,IAAI,CAACE,UAAU,GAAG,IAAI,CAAC,WAAW;AACpC;EAEAC,mBAAmBA,CAACH,SAAoB,EAAQ;IAC9CC,MAAM,CACJ,0DAA0D,EAC1D,IAAI,CAAC,sBAAsB,CAACD,SAAS,CACvC,CAAC;AAED,IAAA,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAACI,MAAM,CAAEC,mBAAmB,IAAK;AAClE,MAAA,OAAOL,SAAS,CAACM,OAAO,KAAKD,mBAAmB,CAACC,OAAO;AAC1D,KAAC,CAAC;AAEF,IAAA,IAAI,CAACJ,UAAU,GAAG,IAAI,CAAC,WAAW;AACpC;EAEA,sBAAsBK,CAACP,SAAoB,EAAW;IACpD,OAAO,IAAI,CAAC,WAAW,CAACQ,IAAI,CAAEH,mBAAmB,IAAK;AACpD,MAAA,OAAOL,SAAS,CAACM,OAAO,KAAKD,mBAAmB,CAACC,OAAO;AAC1D,KAAC,CAAC;AACJ;AACF;;;;"}